"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[2452],{2292:(j,b,i)=>{i.d(b,{jF:()=>D});var g=i(2200),o=i(3664),u=i(8728),m=i(7705),M=i(4341),w=i(5779),_=i(1880),v=i(2224),y=i(4128);const f=["handle"],T=["input"],C=s=>({checked:s});function e(s,r){1&s&&o.eu8(0)}function P(s,r){if(1&s&&o.DNE(0,e,1,0,"ng-container",2),2&s){const a=o.XpG();o.Y8G("ngTemplateOutlet",a.handleTemplate||a._handleTemplate)("ngTemplateOutletContext",o.eq3(2,C,a.checked()))}}const h={root:{position:"relative"}},p={root:({instance:s})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":s.checked(),"p-disabled":s.$disabled(),"p-invalid":s.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"};let S=(()=>{class s extends y.j{name="toggleswitch";theme="\n    \n    .p-toggleswitch {\n        display: inline-block;\n        width: dt('toggleswitch.width');\n        height: dt('toggleswitch.height');\n    }\n\n    .p-toggleswitch-input {\n        cursor: pointer;\n        appearance: none;\n        position: absolute;\n        top: 0;\n        inset-inline-start: 0;\n        width: 100%;\n        height: 100%;\n        padding: 0;\n        margin: 0;\n        opacity: 0;\n        z-index: 1;\n        outline: 0 none;\n        border-radius: dt('toggleswitch.border.radius');\n    }\n\n    .p-toggleswitch-slider {\n        cursor: pointer;\n        width: 100%;\n        height: 100%;\n        border-width: dt('toggleswitch.border.width');\n        border-style: solid;\n        border-color: dt('toggleswitch.border.color');\n        background: dt('toggleswitch.background');\n        transition:\n            background dt('toggleswitch.transition.duration'),\n            color dt('toggleswitch.transition.duration'),\n            border-color dt('toggleswitch.transition.duration'),\n            outline-color dt('toggleswitch.transition.duration'),\n            box-shadow dt('toggleswitch.transition.duration');\n        border-radius: dt('toggleswitch.border.radius');\n        outline-color: transparent;\n        box-shadow: dt('toggleswitch.shadow');\n    }\n\n    .p-toggleswitch-handle {\n        position: absolute;\n        top: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: dt('toggleswitch.handle.background');\n        color: dt('toggleswitch.handle.color');\n        width: dt('toggleswitch.handle.size');\n        height: dt('toggleswitch.handle.size');\n        inset-inline-start: dt('toggleswitch.gap');\n        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));\n        border-radius: dt('toggleswitch.handle.border.radius');\n        transition:\n            background dt('toggleswitch.transition.duration'),\n            color dt('toggleswitch.transition.duration'),\n            inset-inline-start dt('toggleswitch.slide.duration'),\n            box-shadow dt('toggleswitch.slide.duration');\n    }\n\n    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {\n        background: dt('toggleswitch.checked.background');\n        border-color: dt('toggleswitch.checked.border.color');\n    }\n\n    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.checked.background');\n        color: dt('toggleswitch.handle.checked.color');\n        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {\n        background: dt('toggleswitch.hover.background');\n        border-color: dt('toggleswitch.hover.border.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.hover.background');\n        color: dt('toggleswitch.handle.hover.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {\n        background: dt('toggleswitch.checked.hover.background');\n        border-color: dt('toggleswitch.checked.hover.border.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.checked.hover.background');\n        color: dt('toggleswitch.handle.checked.hover.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {\n        box-shadow: dt('toggleswitch.focus.ring.shadow');\n        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');\n        outline-offset: dt('toggleswitch.focus.ring.offset');\n    }\n\n    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {\n        border-color: dt('toggleswitch.invalid.border.color');\n    }\n\n    .p-toggleswitch.p-disabled {\n        opacity: 1;\n    }\n\n    .p-toggleswitch.p-disabled .p-toggleswitch-slider {\n        background: dt('toggleswitch.disabled.background');\n    }\n\n    .p-toggleswitch.p-disabled .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.disabled.background');\n    }\n\n\n    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {\n        border-color: dt('toggleswitch.invalid.border.color');\n    }\n";classes=p;inlineStyles=h;static \u0275fac=(()=>{let a;return function(n){return(a||(a=o.xGo(s)))(n||s)}})();static \u0275prov=u.jDH({token:s,factory:s.\u0275fac})}return s})();const B={provide:M.kq,useExisting:(0,u.Rfq)(()=>D),multi:!0};let D=(()=>{class s extends v.k{styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=(0,m.hFB)();ariaLabelledBy;autofocus;onChange=new o.bkB;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=(0,u.WQX)(S);templates;onHostClick(a){this.onClick(a)}ngAfterContentInit(){this.templates.forEach(a=>{a.getType(),this._handleTemplate=a.template})}onClick(a){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:a,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(a,t){t(a),this.cd.markForCheck()}static \u0275fac=(()=>{let a;return function(n){return(a||(a=o.xGo(s)))(n||s)}})();static \u0275cmp=o.VBU({type:s,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(t,n,l){if(1&t&&(o.wni(l,f,4),o.wni(l,w.Ei,4)),2&t){let d;o.mGM(d=o.lsd())&&(n.handleTemplate=d.first),o.mGM(d=o.lsd())&&(n.templates=d)}},viewQuery:function(t,n){if(1&t&&o.GBs(T,5),2&t){let l;o.mGM(l=o.lsd())&&(n.input=l.first)}},hostVars:6,hostBindings:function(t,n){1&t&&o.bIt("click",function(d){return n.onHostClick(d)}),2&t&&(o.BMQ("data-pc-name","toggleswitch")("data-pc-section","root"),o.Aen(n.sx("root")),o.HbH(n.cn(n.cx("root"),n.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",m.Udg],inputId:"inputId",readonly:[2,"readonly","readonly",m.L39],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",m.L39]},outputs:{onChange:"onChange"},features:[o.Jv_([B,S]),o.Vt3],decls:5,vars:19,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){if(1&t){const l=o.RV6();o.j41(0,"input",1,0),o.bIt("focus",function(){return u.eBV(l),u.Njj(n.onFocus())})("blur",function(){return u.eBV(l),u.Njj(n.onBlur())}),o.k0s(),o.j41(2,"div")(3,"div"),o.nVh(4,P,1,4,"ng-container"),o.k0s()()}2&t&&(o.HbH(n.cx("input")),o.Y8G("checked",n.checked())("pAutoFocus",n.autofocus),o.BMQ("id",n.inputId)("required",n.required()?"":void 0)("disabled",n.$disabled()?"":void 0)("aria-checked",n.checked())("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("name",n.name())("tabindex",n.tabindex)("data-pc-section","hiddenInput"),o.R7$(2),o.HbH(n.cx("slider")),o.BMQ("data-pc-section","slider"),o.R7$(),o.HbH(n.cx("handle")),o.R7$(),o.vxM(n.handleTemplate||n._handleTemplate?4:-1))},dependencies:[g.MD,g.T3,_.q,w.Gg],encapsulation:2,changeDetection:0})}return s})()},2352:(j,b,i)=>{i.d(b,{k2:()=>C});var g=i(2200),o=i(3664),u=i(8728),m=i(5779),M=i(3491),_=i(4128);const v={root:{position:"relative"}},k={root:({instance:e})=>["p-skeleton p-component",{"p-skeleton-circle":"circle"===e.shape,"p-skeleton-animation-none":"none"===e.animation}]};let y=(()=>{class e extends _.j{name="skeleton";theme="\n    .p-skeleton {\n        display: block;\n        overflow: hidden;\n        background: dt('skeleton.background');\n        border-radius: dt('skeleton.border.radius');\n    }\n\n    .p-skeleton::after {\n        content: '';\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n        background: linear-gradient(90deg, rgba(255, 255, 255, 0), dt('skeleton.animation.background'), rgba(255, 255, 255, 0));\n    }\n\n    [dir='rtl'] .p-skeleton::after {\n        animation-name: p-skeleton-animation-rtl;\n    }\n\n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n\n    .p-skeleton-animation-none::after {\n        animation: none;\n    }\n\n    @keyframes p-skeleton-animation {\n        from {\n            transform: translateX(-100%);\n        }\n        to {\n            transform: translateX(100%);\n        }\n    }\n\n    @keyframes p-skeleton-animation-rtl {\n        from {\n            transform: translateX(100%);\n        }\n        to {\n            transform: translateX(-100%);\n        }\n    }\n";classes=k;inlineStyles=v;static \u0275fac=(()=>{let c;return function(p){return(c||(c=o.xGo(e)))(p||e)}})();static \u0275prov=u.jDH({token:e,factory:e.\u0275fac})}return e})(),T=(()=>{class e extends M.${styleClass;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=(0,u.WQX)(y);get containerStyle(){const c=this._componentStyle?.inlineStyles.root;let h;return h=this.size?{...c,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...c,width:this.width,height:this.height,borderRadius:this.borderRadius},h}static \u0275fac=(()=>{let c;return function(p){return(c||(c=o.xGo(e)))(p||e)}})();static \u0275cmp=o.VBU({type:e,selectors:[["p-skeleton"]],hostVars:7,hostBindings:function(h,p){2&h&&(o.BMQ("aria-hidden",!0)("data-pc-name","skeleton")("data-pc-section","root"),o.Aen(p.containerStyle),o.HbH(p.cn(p.cx("root"),p.styleClass)))},inputs:{styleClass:"styleClass",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[o.Jv_([y]),o.Vt3],decls:0,vars:0,template:function(h,p){},dependencies:[g.MD,m.Gg],encapsulation:2,changeDetection:0})}return e})(),C=(()=>{class e{static \u0275fac=function(h){return new(h||e)};static \u0275mod=o.$C({type:e});static \u0275inj=u.G2t({imports:[T,m.Gg,m.Gg]})}return e})()},2452:(j,b,i)=>{i.r(b),i.d(b,{Partners:()=>s});var g=i(8728),o=i(4341),u=i(9211),m=i(8132),M=i(1256),w=i(5889),_=i(5779),v=i(1020),k=i(1314),y=i(2352),f=i(5531),T=i(2292),C=i(980),e=i(3664);const P=()=>["create"],c=()=>({"min-width":"50rem"}),h=()=>({width:"50px",height:"50px",borderRadius:"50%"}),p=r=>["view",r],S=r=>["edit",r];function F(r,a){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"th",6),e.EFF(2," ID "),e.nrm(3,"p-sortIcon",7),e.k0s(),e.j41(4,"th",8),e.EFF(5," Name "),e.nrm(6,"p-sortIcon",9),e.k0s(),e.j41(7,"th"),e.EFF(8,"Image"),e.k0s(),e.j41(9,"th"),e.EFF(10,"View"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Edit"),e.k0s(),e.j41(13,"th",10)(14,"div",11)(15,"span"),e.EFF(16,"Status"),e.k0s(),e.j41(17,"p-select",12),e.mxI("ngModelChange",function(l){g.eBV(t);const d=e.XpG();return e.DH7(d.selectedStatusFilter,l)||(d.selectedStatusFilter=l),g.Njj(l)}),e.bIt("ngModelChange",function(l){g.eBV(t);const d=e.XpG();return g.Njj(d.onStatusFilter(l))}),e.k0s()()()()}if(2&r){const t=e.XpG();e.R7$(17),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.selectedStatusFilter),e.Y8G("showClear",!0)}}function B(r,a){1&r&&e.nrm(0,"i",19)}function D(r,a){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.nrm(6,"img",13),e.k0s(),e.j41(7,"td")(8,"a",14),e.nrm(9,"i",15),e.k0s()(),e.j41(10,"td")(11,"a",14),e.nrm(12,"i",16),e.k0s()(),e.j41(13,"td")(14,"div",17)(15,"p-toggleswitch",18),e.bIt("ngModelChange",function(){const l=g.eBV(t).$implicit,d=e.XpG();return g.Njj(d.onToggleChange(l))}),e.k0s(),e.nVh(16,B,1,0,"i",19),e.k0s()()()}if(2&r){const t=a.$implicit,n=e.XpG();e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.en_client_name),e.R7$(2),e.Aen(e.lJ4(10,h)),e.Y8G("src",n.baseUrl+t.main_image,e.B4B),e.R7$(2),e.Y8G("routerLink",e.eq3(11,p,t.id)),e.R7$(3),e.Y8G("routerLink",e.eq3(13,S,t.id)),e.R7$(4),e.Y8G("ngModel",n.returnStatus(t.active_status))("disabled",n.isToggleLoading(t.id)),e.R7$(),e.vxM(n.isToggleLoading(t.id)?16:-1)}}function R(r,a){1&r&&(e.j41(0,"tr")(1,"td",20)(2,"div",21),e.nrm(3,"i",22),e.j41(4,"span",23),e.EFF(5,"No data found"),e.k0s()()()())}let s=(()=>{class r{constructor(){this.route=(0,g.WQX)(u.nX),this.messageService=(0,g.WQX)(_.bg),this.baseUrl=M.p,this.partnersService=(0,g.WQX)(w.B),this.checked=!1,this.loadingToggles=new Set,this.statusOptions=[{label:"Active",value:1},{label:"Inactive",value:0}],this.selectedStatusFilter=null}getMode(){return this.route.snapshot.queryParamMap.get("mode")}getSliderId(){return this.route.snapshot.queryParamMap.get("id")}ngOnInit(){this.partnersService.getPartners().subscribe(t=>{this.allPartners=t.data,this.partners=t.data})}returnStatus(t){return 1==t}isToggleLoading(t){return this.loadingToggles.has(t)}onToggleChange(t){if(this.isToggleLoading(t.id))return;this.loadingToggles.add(t.id);const n=t.active_status,l=1===Number(t.active_status)?"0":"1";t.active_status=l,(1===Number(n)?this.partnersService.disablePartner(t.id):this.partnersService.activePartner(t.id)).pipe((0,C.j)(()=>{this.loadingToggles.delete(t.id)})).subscribe({next:E=>{if(E.data&&E.data.length>0){const O=E.data.find(L=>L.id===t.id);O&&(t.active_status=O.active_status)}this.messageService.add({severity:"success",summary:"Success",detail:`Partner ${1===Number(l)?"activated":"deactivated"} successfully`})},error:E=>{t.active_status=n,console.error("Toggle failed:",E),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update partner status"})}})}onStatusFilter(t){this.partners=null==t?[...this.allPartners]:this.allPartners.filter(n=>Number(n.active_status)===Number(t))}onDelete(t){const n=this.partners.find(l=>l.id===t);n&&this.onToggleChange(n)}onActive(t){const n=this.partners.find(l=>l.id===t);n&&this.onToggleChange(n)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-partners"]],decls:8,vars:5,consts:[[1,"flex","justify-content-between","items-center","mb-4","w-full"],["label","Create New Partner","icon","pi pi-plus","severity","primary",3,"routerLink"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","id"],["pSortableColumn","en_client_name"],["field","en_client_name"],["pSortableColumn","active_status",2,"max-width","50px"],[1,"flex","flex-column","gap-2"],["optionLabel","label","optionValue","value","appendTo","body","placeholder","Filter by Status",3,"ngModelChange","options","ngModel","showClear"],["alt","slider",3,"src"],[3,"routerLink"],[1,"pi","pi-eye",2,"color","#673ab7"],[1,"pi","pi-pencil",2,"color","#673ab7"],[1,"flex","align-items-center","gap-2"],[3,"ngModelChange","ngModel","disabled"],[1,"pi","pi-spin","pi-spinner",2,"color","#673ab7","font-size","0.8rem"],["colspan","12",1,"text-center","p-4"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--text-color-secondary)"],[1,"mt-2",2,"color","var(--text-color-secondary)"]],template:function(n,l){1&n&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Partners Management"),e.k0s(),e.nrm(3,"p-button",1),e.k0s(),e.j41(4,"p-table",2),e.DNE(5,F,18,3,"ng-template",3)(6,D,17,15,"ng-template",4)(7,R,6,0,"ng-template",5),e.k0s()),2&n&&(e.R7$(3),e.Y8G("routerLink",e.lJ4(3,P)),e.R7$(),e.Y8G("value",l.partners)("tableStyle",e.lJ4(4,c)))},dependencies:[f.bG,f.XI,_.Ei,f.Tg,f.yc,m.Wk,o.YN,o.BC,o.vS,T.jF,y.k2,v.tm,v.$n,k.py,k.l6],encapsulation:2})}return r})()}}]);