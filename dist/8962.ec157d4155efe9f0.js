"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[8962],{8962:(C,c,r)=>{r.r(c),r.d(c,{ProjectForm:()=>T});var g=r(2200),s=r(8728),_=r(9211),u=r(1256),F=r(2067),E=r(5731),m=r(5779),p=r(1314),e=r(3664),i=r(5531),j=r(8132),h=r(4341);const f=()=>({"min-width":"50rem"}),P=o=>["view",o];function R(o,d){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"th",5),e.EFF(2," ID "),e.nrm(3,"p-sortIcon",6),e.k0s(),e.j41(4,"th",7),e.EFF(5," Name "),e.nrm(6,"p-sortIcon",8),e.k0s(),e.j41(7,"th",9),e.EFF(8," Email "),e.nrm(9,"p-sortIcon",10),e.k0s(),e.j41(10,"th",11),e.EFF(11," Phone "),e.nrm(12,"p-sortIcon",12),e.k0s(),e.j41(13,"th",11),e.EFF(14," Date "),e.nrm(15,"p-sortIcon",12),e.k0s(),e.j41(16,"th"),e.EFF(17,"View"),e.k0s(),e.j41(18,"th",13)(19,"div",14)(20,"span"),e.EFF(21,"Is Read"),e.k0s(),e.j41(22,"p-select",15),e.mxI("ngModelChange",function(n){s.eBV(t);const l=e.XpG();return e.DH7(l.selectedReadFilter,n)||(l.selectedReadFilter=n),s.Njj(n)}),e.bIt("ngModelChange",function(n){s.eBV(t);const l=e.XpG();return s.Njj(l.onReadFilter(n))}),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(22),e.Y8G("options",t.readStatusOptions),e.R50("ngModel",t.selectedReadFilter),e.Y8G("showClear",!0)}}function v(o,d){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td")(13,"a",16),e.nrm(14,"i",17),e.k0s()(),e.j41(15,"td"),e.EFF(16),e.k0s()()),2&o){const t=d.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(e.i5U(11,7,t.project_date,"dd/MM/yyyy")),e.R7$(3),e.Y8G("routerLink",e.eq3(10,P,t.id)),e.R7$(3),e.JRh("1"===t.is_read?"Read":"Unread")}}function M(o,d){1&o&&(e.j41(0,"tr")(1,"td",18)(2,"div",19),e.nrm(3,"i",20),e.j41(4,"span",21),e.EFF(5,"No data found"),e.k0s()()()())}let T=(()=>{class o{constructor(){this.route=(0,s.WQX)(_.nX),this.router=(0,s.WQX)(_.Ix),this.messageService=(0,s.WQX)(m.bg),this.baseUrl=u.p,this.projectFormService=(0,s.WQX)(F.H),this.checked=!1,this.loadingToggles=new Set,this.readStatusOptions=[{label:"Read",value:1},{label:"Unread",value:0}],this.selectedReadFilter=null}getMode(){return this.route.snapshot.queryParamMap.get("mode")}getSliderId(){return this.route.snapshot.queryParamMap.get("id")}ngOnInit(){this.projectFormService.getProjectForm().subscribe(t=>{this.allProjectForm=t.data,this.projectForm=t.data,console.log(this.projectForm[0])})}returnStatus(t){return 1==t}isToggleLoading(t){return this.loadingToggles.has(t)}onToggleChange(t){if(this.isToggleLoading(t.id))return;this.loadingToggles.add(t.id);const a=1===Number(t.is_read)?0:1;t.is_read=a.toString(),setTimeout(()=>{this.loadingToggles.delete(t.id),this.messageService.add({severity:"success",summary:"Success",detail:`Career application marked as ${1===a?"read":"unread"} successfully`})},500)}onRead(t){const a=this.projectForm.find(n=>n.id===t);a&&(this.onToggleChange(a),this.router.navigate(["/dashboard/project-form/view",t]))}onEdit(t){this.router.navigate(["/dashboard/project-form/edit",t])}getStatusLabel(t){return 1===t?"Read":"Unread"}getStatusSeverity(t){return 1===t?"success":"warning"}onReadFilter(t){this.projectForm=null==t?[...this.allProjectForm]:this.allProjectForm.filter(a=>Number(a.is_read)===Number(t))}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-project-form"]],decls:7,vars:3,consts:[[1,"flex","justify-content-between","items-center","mb-4","w-full"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","id"],["pSortableColumn","name"],["field","name"],["pSortableColumn","email"],["field","email"],["pSortableColumn","phone"],["field","phone"],["pSortableColumn","is_read",2,"max-width","50px"],[1,"flex","flex-column","gap-2"],["optionLabel","label","optionValue","value","appendTo","body","placeholder","Filter by Status",3,"ngModelChange","options","ngModel","showClear"],[3,"routerLink"],[1,"pi","pi-eye",2,"color","#673ab7"],["colspan","12",1,"text-center","p-4"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--text-color-secondary)"],[1,"mt-2",2,"color","var(--text-color-secondary)"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Project Form"),e.k0s()(),e.j41(3,"p-table",1),e.DNE(4,R,23,3,"ng-template",2)(5,v,17,12,"ng-template",3)(6,M,6,0,"ng-template",4),e.k0s()),2&a&&(e.R7$(3),e.Y8G("value",n.projectForm)("tableStyle",e.lJ4(2,f)))},dependencies:[E.g,i.XI,m.Ei,i.Tg,i.yc,j.Wk,h.BC,h.vS,p.py,p.l6,g.vh],encapsulation:2})}return o})()}}]);