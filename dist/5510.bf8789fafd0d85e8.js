"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[5510],{5510:(D,_,s)=>{s.r(_),s.d(_,{CareersForm:()=>b});var o=s(8728),c=s(9211),h=s(1256),u=s(1746),F=s(5731),m=s(5779),p=s(1314),e=s(3664),d=s(5531),E=s(8132),g=s(4341),f=s(2292);const C=()=>({"min-width":"50rem"}),R=a=>["view",a];function M(a,i){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",5),e.EFF(2," ID "),e.nrm(3,"p-sortIcon",6),e.k0s(),e.j41(4,"th",7),e.EFF(5," Name "),e.nrm(6,"p-sortIcon",8),e.k0s(),e.j41(7,"th",9),e.EFF(8," Email "),e.nrm(9,"p-sortIcon",10),e.k0s(),e.j41(10,"th",11),e.EFF(11," Phone "),e.nrm(12,"p-sortIcon",12),e.k0s(),e.j41(13,"th",13),e.EFF(14," Address "),e.nrm(15,"p-sortIcon",14),e.k0s(),e.j41(16,"th",15),e.EFF(17," Date "),e.nrm(18,"p-sortIcon",16),e.k0s(),e.j41(19,"th",17),e.EFF(20," Expected Salary "),e.nrm(21,"p-sortIcon",18),e.k0s(),e.j41(22,"th"),e.EFF(23,"View"),e.k0s(),e.j41(24,"th",19)(25,"div",20)(26,"span"),e.EFF(27,"Is Read"),e.k0s(),e.j41(28,"p-select",21),e.mxI("ngModelChange",function(n){o.eBV(t);const l=e.XpG();return e.DH7(l.selectedReadFilter,n)||(l.selectedReadFilter=n),o.Njj(n)}),e.bIt("ngModelChange",function(n){o.eBV(t);const l=e.XpG();return o.Njj(l.onReadFilter(n))}),e.k0s()()()()}if(2&a){const t=e.XpG();e.R7$(28),e.Y8G("options",t.readStatusOptions),e.R50("ngModel",t.selectedReadFilter),e.Y8G("showClear",!0)}}function v(a,i){1&a&&e.nrm(0,"i",26)}function T(a,i){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"a",22),e.nrm(17,"i",23),e.k0s()(),e.j41(18,"td")(19,"div",24)(20,"p-toggleswitch",25),e.bIt("ngModelChange",function(){const n=o.eBV(t).$implicit,l=e.XpG();return o.Njj(l.onToggleChange(n))}),e.k0s(),e.nVh(21,v,1,0,"i",26),e.k0s()()()}if(2&a){const t=i.$implicit,r=e.XpG();e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.address),e.R7$(2),e.JRh(t.career_date),e.R7$(2),e.JRh(t.expected_salary),e.R7$(2),e.Y8G("routerLink",e.eq3(11,R,t.id)),e.R7$(4),e.Y8G("ngModel",r.returnStatus(t.is_read))("disabled",r.isToggleLoading(t.id)),e.R7$(),e.vxM(r.isToggleLoading(t.id)?21:-1)}}function j(a,i){1&a&&(e.j41(0,"tr")(1,"td",27)(2,"div",28),e.nrm(3,"i",29),e.j41(4,"span",30),e.EFF(5,"No data found"),e.k0s()()()())}let b=(()=>{class a{constructor(){this.route=(0,o.WQX)(c.nX),this.router=(0,o.WQX)(c.Ix),this.messageService=(0,o.WQX)(m.bg),this.baseUrl=h.p,this.careerFormService=(0,o.WQX)(u.t),this.checked=!1,this.loadingToggles=new Set,this.readStatusOptions=[{label:"Read",value:1},{label:"Unread",value:0}],this.selectedReadFilter=null}getMode(){return this.route.snapshot.queryParamMap.get("mode")}getSliderId(){return this.route.snapshot.queryParamMap.get("id")}ngOnInit(){this.careerFormService.getCareersFormList().subscribe(t=>{this.allCareerForm=t.data,this.careerForm=t.data,console.log(this.careerForm[0])})}returnStatus(t){return 1==t}isToggleLoading(t){return this.loadingToggles.has(t)}onToggleChange(t){if(this.isToggleLoading(t.id))return;this.loadingToggles.add(t.id);const r=1===Number(t.is_read)?0:1;t.is_read=r,setTimeout(()=>{this.loadingToggles.delete(t.id),this.messageService.add({severity:"success",summary:"Success",detail:`Career application marked as ${1===r?"read":"unread"} successfully`})},500)}onRead(t){const r=this.careerForm.find(n=>n.id===t);r&&(this.onToggleChange(r),this.router.navigate(["/dashboard/careers-form/view",t]))}onEdit(t){this.router.navigate(["/dashboard/careers-form/edit",t])}getStatusLabel(t){return 1===t?"Read":"Unread"}getStatusSeverity(t){return 1===t?"success":"warning"}onReadFilter(t){this.careerForm=null==t?[...this.allCareerForm]:this.allCareerForm.filter(r=>Number(r.is_read)===Number(t))}static#e=this.\u0275fac=function(r){return new(r||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-careers-form"]],decls:7,vars:3,consts:[[1,"flex","justify-content-between","items-center","mb-4","w-full"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","id"],["pSortableColumn","name"],["field","name"],["pSortableColumn","email"],["field","email"],["pSortableColumn","phone"],["field","phone"],["pSortableColumn","address"],["field","address"],["pSortableColumn","current_salary"],["field","current_salary"],["pSortableColumn","expected_salary"],["field","expected_salary"],["pSortableColumn","is_read",2,"max-width","50px"],[1,"flex","flex-column","gap-2"],["optionLabel","label","optionValue","value","appendTo","body","placeholder","Filter by Status",3,"ngModelChange","options","ngModel","showClear"],[3,"routerLink"],[1,"pi","pi-eye",2,"color","#673ab7"],[1,"flex","align-items-center","gap-2"],[3,"ngModelChange","ngModel","disabled"],[1,"pi","pi-spin","pi-spinner",2,"color","#673ab7","font-size","0.8rem"],["colspan","12",1,"text-center","p-4"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--text-color-secondary)"],[1,"mt-2",2,"color","var(--text-color-secondary)"]],template:function(r,n){1&r&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Careers Applications"),e.k0s()(),e.j41(3,"p-table",1),e.DNE(4,M,29,3,"ng-template",2)(5,T,22,13,"ng-template",3)(6,j,6,0,"ng-template",4),e.k0s()),2&r&&(e.R7$(3),e.Y8G("value",n.careerForm)("tableStyle",e.lJ4(2,C)))},dependencies:[F.g,d.XI,m.Ei,d.Tg,d.yc,E.Wk,g.BC,g.vS,f.jF,p.py,p.l6],encapsulation:2})}return a})()}}]);