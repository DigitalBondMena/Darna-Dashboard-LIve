"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[4215],{4215:(V,F,a)=>{a.r(F),a.d(F,{AboutPage:()=>D});var k=a(2200),s=a(8728),i=a(4341),I=a(9211),f=a(1256),$=a(9330);let U=(()=>{class n{constructor(){this.http=(0,s.WQX)($.Qq)}getAboutUs(){return this.http.get(`${f.p}api/about-us`)}updateAboutUs(l,o){const t=new FormData;return t.append("en_main_title",l.en_main_title),t.append("en_main_text",l.en_main_text),t.append("ar_main_title",l.ar_main_title),t.append("ar_main_text",l.ar_main_text),t.append("en_alt_image",l.en_alt_image),t.append("ar_alt_image",l.ar_alt_image),t.append("en_mission_text",l.en_mission_text),t.append("ar_mission_text",l.ar_mission_text),t.append("en_vision_text",l.en_vision_text),t.append("ar_vision_text",l.ar_vision_text),o&&t.append("main_image",o),this.http.post(`${f.p}api/about-us/1`,t)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S=a(9200),T=a(5779),j=a(1020),x=a(5506),E=a(4781),A=a(1914),y=a(886),e=a(3664);const h=()=>({height:300,direction:"ltr"}),v=()=>({height:300,direction:"rtl"});function R(n,m){1&n&&(e.j41(0,"small",39),e.EFF(1," Title is required and must be at least 3 characters long. "),e.k0s())}function N(n,m){1&n&&(e.j41(0,"small",39),e.EFF(1," Alt text is required. "),e.k0s())}function G(n,m){1&n&&(e.j41(0,"small",39),e.EFF(1," Title is required and must be at least 3 characters long. "),e.k0s())}function C(n,m){1&n&&(e.j41(0,"small",39),e.EFF(1," Alt text is required. "),e.k0s())}function L(n,m){if(1&n&&(e.j41(0,"div",2)(1,"div",40)(2,"label",27),e.EFF(3,"Current Image"),e.k0s(),e.j41(4,"div",41),e.nrm(5,"img",42),e.k0s()()()),2&n){const l=e.XpG();e.R7$(5),e.Y8G("src",l.baseUrl+l.aboutUs.main_image,e.B4B)("alt",l.aboutUs.en_alt_image)}}function Y(n,m){1&n&&(e.j41(0,"div",43),e.nrm(1,"i",44),e.j41(2,"p",45),e.EFF(3," Drag and drop an image here or click to select "),e.k0s()())}function P(n,m){1&n&&(e.j41(0,"small",39),e.EFF(1," Image is required for creating a new slider. "),e.k0s())}let D=(()=>{class n{constructor(){this.fb=(0,s.WQX)(i.ok),this.messageService=(0,s.WQX)(T.bg),this.router=(0,s.WQX)(I.Ix),this.aboutUsService=(0,s.WQX)(U),this.isLoading=(0,s.vPA)(!1),this.baseUrl=f.p,this.selectedFile=null}ngOnInit(){this.initForm(),this.getAboutUs()}getAboutUs(){this.aboutUsService.getAboutUs().subscribe(l=>{this.aboutForm.patchValue(l.data),this.aboutUs=l.data})}initForm(){this.aboutForm=this.fb.group({en_main_title:["",[i.k0.required,i.k0.minLength(3)]],ar_main_title:["",[i.k0.required,i.k0.minLength(3)]],en_main_text:["",[i.k0.required,i.k0.minLength(3)]],ar_main_text:["",[i.k0.required,i.k0.minLength(3)]],en_alt_image:["",[i.k0.required]],ar_alt_image:["",[i.k0.required]],en_mission_text:["",[i.k0.required,i.k0.minLength(3)]],ar_mission_text:["",[i.k0.required,i.k0.minLength(3)]],en_vision_text:["",[i.k0.required,i.k0.minLength(3)]],ar_vision_text:["",[i.k0.required,i.k0.minLength(3)]]})}onImageSelect(l){console.log(l);const o=l.files||l.currentFiles;if(o&&o.length>0){const t=o[0];if(!t.type.startsWith("image/"))return void this.messageService.add({severity:"error",summary:"Invalid File",detail:"Please select an image file"});if(t.size>5e6)return void this.messageService.add({severity:"error",summary:"File Too Large",detail:"Please select an image smaller than 5MB"});this.selectedFile=t,this.messageService.add({severity:"success",summary:"File Selected",detail:`Image "${t.name}" selected successfully`})}}onSubmit(){this.aboutForm.invalid||(this.isLoading.set(!0),this.aboutUsService.updateAboutUs(this.aboutForm.value,this.selectedFile||void 0).subscribe(l=>{this.isLoading.set(!1),l.success?(this.messageService.add({severity:"success",summary:"Success",detail:"About Us updated successfully"}),this.getAboutUs()):(this.isLoading.set(!1),this.messageService.add({severity:"error",summary:"Error",detail:"About Us updated failed"}))}))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-about-page"]],decls:83,vars:32,consts:[["empty",""],[1,"grid"],[1,"col-12"],["styleClass","shadow-2",3,"header"],[1,"p-fluid"],[3,"ngSubmit","formGroup"],[1,"grid","mt-4"],[1,"col-12","md:col-6"],[1,"font-bold","mb-4"],[1,"field","mb-3"],["for","en_title",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","en_title","formControlName","en_main_title","placeholder","Enter en slider title",2,"width","100%"],["class","p-error block",4,"ngIf"],["for","en_description",1,"block","text-900","font-medium","mb-2"],[1,"card"],["placeholder","Enter en slider description","formControlName","en_main_text",3,"options"],["for","en_alt_image",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","en_alt_image","formControlName","en_alt_image","placeholder","Enter en image alt text",1,"w-full",2,"width","100%"],[1,"col-12","md:col-6","right-side"],["for","ar_title",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","ar_title","formControlName","ar_main_title","placeholder","Enter ar slider title",2,"width","100%"],["for","ar_description",1,"block","text-900","font-medium","mb-2"],["placeholder","Enter ar slider description","formControlName","ar_main_text",3,"options"],["for","ar_alt_image",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","ar_alt_image","formControlName","ar_alt_image","placeholder","Enter ar image alt text",1,"w-full",2,"width","100%"],["class","col-12",4,"ngIf"],[1,"field","col-12"],[1,"block","text-900","font-medium","mb-2"],["name","main_image","accept","image/*","maxFileSize","5000000","mode","advanced","chooseLabel","Choose Image","uploadLabel"," ","cancelLabel","Cancel",3,"onSelect","multiple","auto"],[1,"my-5","border-2","w-full","border-primary","opacity-100"],[1,"col-12","text-2xl","font-bold","mb-5",2,"color","var(--p-primary-500)"],["for","en_mission_text",1,"block","text-900","font-medium","mb-2"],["placeholder","Enter en mission","formControlName","en_mission_text",3,"options"],["for","ar_mission_text",1,"block","text-900","font-medium","mb-2"],["placeholder","Enter ar mission","formControlName","ar_mission_text",3,"options"],["placeholder","Enter en vision","formControlName","en_vision_text",3,"options"],["placeholder","Enter ar vision","formControlName","ar_vision_text",3,"options"],[1,"flex","justify-content-end","gap-2","pt-3"],["label","Update About Us","icon","pi pi-check","severity","primary","type","submit",3,"disabled","loading"],[1,"p-error","block"],[1,"field"],[1,"border-1","border-300","border-round","p-3","text-center"],[1,"w-full","max-w-20rem","h-auto","border-round","shadow-2",2,"max-height","300px","object-fit","cover",3,"src","alt"],[1,"text-center","p-4"],[1,"pi","pi-cloud-upload","text-4xl","text-300"],[1,"mt-2","mb-0"]],template:function(o,t){if(1&o){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"p-card",3)(3,"div",4)(4,"form",5),e.bIt("ngSubmit",function(){return s.eBV(r),s.Njj(t.onSubmit())}),e.j41(5,"div",6)(6,"div",7)(7,"h4",8),e.EFF(8,"English content"),e.k0s(),e.j41(9,"div",9)(10,"label",10),e.EFF(11," Title "),e.k0s(),e.nrm(12,"input",11),e.DNE(13,R,2,0,"small",12),e.k0s(),e.j41(14,"label",13),e.EFF(15," description "),e.k0s(),e.j41(16,"div",14),e.nrm(17,"ngx-jodit",15),e.k0s(),e.j41(18,"div",9)(19,"label",16),e.EFF(20," Alt Text "),e.k0s(),e.nrm(21,"input",17),e.DNE(22,N,2,0,"small",12),e.k0s()(),e.j41(23,"div",18)(24,"h4",8),e.EFF(25,"Arabic content"),e.k0s(),e.j41(26,"div",9)(27,"label",19),e.EFF(28," Title "),e.k0s(),e.nrm(29,"input",20),e.DNE(30,G,2,0,"small",12),e.k0s(),e.j41(31,"label",21),e.EFF(32," description "),e.k0s(),e.j41(33,"div",14),e.nrm(34,"ngx-jodit",22),e.k0s(),e.j41(35,"div",9)(36,"label",23),e.EFF(37," Alt Text "),e.k0s(),e.nrm(38,"input",24),e.DNE(39,C,2,0,"small",12),e.k0s()(),e.DNE(40,L,6,2,"div",25),e.j41(41,"div",26)(42,"label",27),e.EFF(43," Upload New Image "),e.k0s(),e.j41(44,"p-fileupload",28),e.bIt("onSelect",function(u){return s.eBV(r),s.Njj(t.onImageSelect(u))}),e.DNE(45,Y,4,0,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(47,P,2,0,"small",12),e.k0s(),e.nrm(48,"hr",29),e.j41(49,"h2",30),e.EFF(50," Mission and Vision "),e.k0s(),e.j41(51,"div",7)(52,"h4",8),e.EFF(53,"English content"),e.k0s(),e.j41(54,"label",31),e.EFF(55," Mission "),e.k0s(),e.j41(56,"div",14),e.nrm(57,"ngx-jodit",32),e.k0s()(),e.j41(58,"div",7)(59,"h4",8),e.EFF(60,"Arabic content"),e.k0s(),e.j41(61,"label",33),e.EFF(62," Mission "),e.k0s(),e.j41(63,"div",14),e.nrm(64,"ngx-jodit",34),e.k0s()(),e.j41(65,"div",7)(66,"h4",8),e.EFF(67,"English content"),e.k0s(),e.j41(68,"label",31),e.EFF(69," Vision "),e.k0s(),e.j41(70,"div",14),e.nrm(71,"ngx-jodit",35),e.k0s()(),e.j41(72,"div",7)(73,"h4",8),e.EFF(74,"Arabic content"),e.k0s(),e.j41(75,"label",33),e.EFF(76," Vision "),e.k0s(),e.j41(77,"div",14),e.nrm(78,"ngx-jodit",36),e.k0s()(),e.j41(79,"div",2)(80,"div",37),e.nrm(81,"p-button",38),e.k0s()()()()()()()(),e.nrm(82,"p-toast")}if(2&o){let r,d,u,p,g,c,b,_;e.R7$(2),e.Y8G("header","About Us"),e.R7$(2),e.Y8G("formGroup",t.aboutForm),e.R7$(8),e.AVh("ng-invalid",(null==(r=t.aboutForm.get("en_title"))?null:r.invalid)&&(null==(r=t.aboutForm.get("en_title"))?null:r.touched)),e.R7$(),e.Y8G("ngIf",(null==(d=t.aboutForm.get("en_title"))?null:d.invalid)&&(null==(d=t.aboutForm.get("en_title"))?null:d.touched)),e.R7$(4),e.Y8G("options",e.lJ4(26,h)),e.R7$(4),e.AVh("ng-invalid",(null==(u=t.aboutForm.get("en_alt_image"))?null:u.invalid)&&(null==(u=t.aboutForm.get("en_alt_image"))?null:u.touched)),e.R7$(),e.Y8G("ngIf",(null==(p=t.aboutForm.get("en_alt_image"))?null:p.invalid)&&(null==(p=t.aboutForm.get("en_alt_image"))?null:p.touched)),e.R7$(7),e.AVh("ng-invalid",(null==(g=t.aboutForm.get("ar_title"))?null:g.invalid)&&(null==(g=t.aboutForm.get("ar_title"))?null:g.touched)),e.R7$(),e.Y8G("ngIf",(null==(c=t.aboutForm.get("ar_title"))?null:c.invalid)&&(null==(c=t.aboutForm.get("ar_title"))?null:c.touched)),e.R7$(4),e.Y8G("options",e.lJ4(27,v)),e.R7$(4),e.AVh("ng-invalid",(null==(b=t.aboutForm.get("ar_alt_image"))?null:b.invalid)&&(null==(b=t.aboutForm.get("ar_alt_image"))?null:b.touched)),e.R7$(),e.Y8G("ngIf",(null==(_=t.aboutForm.get("ar_alt_image"))?null:_.invalid)&&(null==(_=t.aboutForm.get("ar_alt_image"))?null:_.touched)),e.R7$(),e.Y8G("ngIf",null==t.aboutUs?null:t.aboutUs.main_image),e.R7$(4),e.Y8G("multiple",!1)("auto",!1),e.R7$(3),e.Y8G("ngIf",!t.selectedFile),e.R7$(10),e.Y8G("options",e.lJ4(28,h)),e.R7$(7),e.Y8G("options",e.lJ4(29,v)),e.R7$(7),e.Y8G("options",e.lJ4(30,h)),e.R7$(7),e.Y8G("options",e.lJ4(31,v)),e.R7$(3),e.Y8G("disabled",t.aboutForm.invalid||t.isLoading())("loading",t.isLoading())}},dependencies:[E.eB,E.ef,k.MD,k.bT,j.tm,j.$n,A.um,A.Sm,x.Dw,x.Zp,y.MB,y.y8,S.V,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD],styles:[".p-fileupload-upload-button{display:none!important}  .p-fileupload-file-badge{display:none!important}"]})}return n})()}}]);