"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[6570],{2292:(L,_,a)=>{a.d(_,{jF:()=>v});var r=a(2200),n=a(3664),h=a(8728),u=a(7705),T=a(4341),m=a(5779),f=a(1880),w=a(2224),k=a(4128);const M=["handle"],y=["input"],e=l=>({checked:l});function E(l,t){1&l&&n.eu8(0)}function C(l,t){if(1&l&&n.DNE(0,E,1,0,"ng-container",2),2&l){const i=n.XpG();n.Y8G("ngTemplateOutlet",i.handleTemplate||i._handleTemplate)("ngTemplateOutletContext",n.eq3(2,e,i.checked()))}}const F={root:{position:"relative"}},j={root:({instance:l})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":l.checked(),"p-disabled":l.$disabled(),"p-invalid":l.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"};let b=(()=>{class l extends k.j{name="toggleswitch";theme="\n    \n    .p-toggleswitch {\n        display: inline-block;\n        width: dt('toggleswitch.width');\n        height: dt('toggleswitch.height');\n    }\n\n    .p-toggleswitch-input {\n        cursor: pointer;\n        appearance: none;\n        position: absolute;\n        top: 0;\n        inset-inline-start: 0;\n        width: 100%;\n        height: 100%;\n        padding: 0;\n        margin: 0;\n        opacity: 0;\n        z-index: 1;\n        outline: 0 none;\n        border-radius: dt('toggleswitch.border.radius');\n    }\n\n    .p-toggleswitch-slider {\n        cursor: pointer;\n        width: 100%;\n        height: 100%;\n        border-width: dt('toggleswitch.border.width');\n        border-style: solid;\n        border-color: dt('toggleswitch.border.color');\n        background: dt('toggleswitch.background');\n        transition:\n            background dt('toggleswitch.transition.duration'),\n            color dt('toggleswitch.transition.duration'),\n            border-color dt('toggleswitch.transition.duration'),\n            outline-color dt('toggleswitch.transition.duration'),\n            box-shadow dt('toggleswitch.transition.duration');\n        border-radius: dt('toggleswitch.border.radius');\n        outline-color: transparent;\n        box-shadow: dt('toggleswitch.shadow');\n    }\n\n    .p-toggleswitch-handle {\n        position: absolute;\n        top: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: dt('toggleswitch.handle.background');\n        color: dt('toggleswitch.handle.color');\n        width: dt('toggleswitch.handle.size');\n        height: dt('toggleswitch.handle.size');\n        inset-inline-start: dt('toggleswitch.gap');\n        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));\n        border-radius: dt('toggleswitch.handle.border.radius');\n        transition:\n            background dt('toggleswitch.transition.duration'),\n            color dt('toggleswitch.transition.duration'),\n            inset-inline-start dt('toggleswitch.slide.duration'),\n            box-shadow dt('toggleswitch.slide.duration');\n    }\n\n    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {\n        background: dt('toggleswitch.checked.background');\n        border-color: dt('toggleswitch.checked.border.color');\n    }\n\n    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.checked.background');\n        color: dt('toggleswitch.handle.checked.color');\n        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {\n        background: dt('toggleswitch.hover.background');\n        border-color: dt('toggleswitch.hover.border.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.hover.background');\n        color: dt('toggleswitch.handle.hover.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {\n        background: dt('toggleswitch.checked.hover.background');\n        border-color: dt('toggleswitch.checked.hover.border.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.checked.hover.background');\n        color: dt('toggleswitch.handle.checked.hover.color');\n    }\n\n    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {\n        box-shadow: dt('toggleswitch.focus.ring.shadow');\n        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');\n        outline-offset: dt('toggleswitch.focus.ring.offset');\n    }\n\n    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {\n        border-color: dt('toggleswitch.invalid.border.color');\n    }\n\n    .p-toggleswitch.p-disabled {\n        opacity: 1;\n    }\n\n    .p-toggleswitch.p-disabled .p-toggleswitch-slider {\n        background: dt('toggleswitch.disabled.background');\n    }\n\n    .p-toggleswitch.p-disabled .p-toggleswitch-handle {\n        background: dt('toggleswitch.handle.disabled.background');\n    }\n\n\n    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {\n        border-color: dt('toggleswitch.invalid.border.color');\n    }\n";classes=j;inlineStyles=F;static \u0275fac=(()=>{let i;return function(o){return(i||(i=n.xGo(l)))(o||l)}})();static \u0275prov=h.jDH({token:l,factory:l.\u0275fac})}return l})();const B={provide:T.kq,useExisting:(0,h.Rfq)(()=>v),multi:!0};let v=(()=>{class l extends w.k{styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=(0,u.hFB)();ariaLabelledBy;autofocus;onChange=new n.bkB;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=(0,h.WQX)(b);templates;onHostClick(i){this.onClick(i)}ngAfterContentInit(){this.templates.forEach(i=>{i.getType(),this._handleTemplate=i.template})}onClick(i){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:i,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(i,s){s(i),this.cd.markForCheck()}static \u0275fac=(()=>{let i;return function(o){return(i||(i=n.xGo(l)))(o||l)}})();static \u0275cmp=n.VBU({type:l,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(s,o,c){if(1&s&&(n.wni(c,M,4),n.wni(c,m.Ei,4)),2&s){let g;n.mGM(g=n.lsd())&&(o.handleTemplate=g.first),n.mGM(g=n.lsd())&&(o.templates=g)}},viewQuery:function(s,o){if(1&s&&n.GBs(y,5),2&s){let c;n.mGM(c=n.lsd())&&(o.input=c.first)}},hostVars:6,hostBindings:function(s,o){1&s&&n.bIt("click",function(g){return o.onHostClick(g)}),2&s&&(n.BMQ("data-pc-name","toggleswitch")("data-pc-section","root"),n.Aen(o.sx("root")),n.HbH(o.cn(o.cx("root"),o.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",u.Udg],inputId:"inputId",readonly:[2,"readonly","readonly",u.L39],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",u.L39]},outputs:{onChange:"onChange"},features:[n.Jv_([B,b]),n.Vt3],decls:5,vars:19,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,o){if(1&s){const c=n.RV6();n.j41(0,"input",1,0),n.bIt("focus",function(){return h.eBV(c),h.Njj(o.onFocus())})("blur",function(){return h.eBV(c),h.Njj(o.onBlur())}),n.k0s(),n.j41(2,"div")(3,"div"),n.nVh(4,C,1,4,"ng-container"),n.k0s()()}2&s&&(n.HbH(o.cx("input")),n.Y8G("checked",o.checked())("pAutoFocus",o.autofocus),n.BMQ("id",o.inputId)("required",o.required()?"":void 0)("disabled",o.$disabled()?"":void 0)("aria-checked",o.checked())("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("name",o.name())("tabindex",o.tabindex)("data-pc-section","hiddenInput"),n.R7$(2),n.HbH(o.cx("slider")),n.BMQ("data-pc-section","slider"),n.R7$(),n.HbH(o.cx("handle")),n.R7$(),n.vxM(o.handleTemplate||o._handleTemplate?4:-1))},dependencies:[r.MD,r.T3,f.q,m.Gg],encapsulation:2,changeDetection:0})}return l})()},6570:(L,_,a)=>{a.r(_),a.d(_,{Testimonials:()=>v});var r=a(8728),n=a(4341),h=a(9211),u=a(8132),T=a(1256),m=a(5779),f=a(1020),w=a(1314),p=a(5531),k=a(2292),M=a(980),y=a(837),e=a(3664);const E=()=>["create"],C=()=>({"min-width":"50rem"}),S=d=>["view",d],F=d=>["edit",d];function j(d,l){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"th",6),e.EFF(2," ID "),e.nrm(3,"p-sortIcon",7),e.k0s(),e.j41(4,"th",8),e.EFF(5," Name "),e.nrm(6,"p-sortIcon",9),e.k0s(),e.j41(7,"th",10),e.EFF(8," Job "),e.nrm(9,"p-sortIcon",11),e.k0s(),e.j41(10,"th"),e.EFF(11,"View"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Edit"),e.k0s(),e.j41(14,"th",12)(15,"div",13)(16,"span"),e.EFF(17,"Status"),e.k0s(),e.j41(18,"p-select",14),e.mxI("ngModelChange",function(s){r.eBV(t);const o=e.XpG();return e.DH7(o.selectedStatusFilter,s)||(o.selectedStatusFilter=s),r.Njj(s)}),e.bIt("ngModelChange",function(s){r.eBV(t);const o=e.XpG();return r.Njj(o.onStatusFilter(s))}),e.k0s()()()()}if(2&d){const t=e.XpG();e.R7$(18),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.selectedStatusFilter),e.Y8G("showClear",!0)}}function b(d,l){1&d&&e.nrm(0,"i",20)}function D(d,l){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"a",15),e.nrm(9,"i",16),e.k0s()(),e.j41(10,"td")(11,"a",15),e.nrm(12,"i",17),e.k0s()(),e.j41(13,"td")(14,"div",18)(15,"p-toggleswitch",19),e.bIt("ngModelChange",function(){const s=r.eBV(t).$implicit,o=e.XpG();return r.Njj(o.onToggleChange(s))}),e.k0s(),e.nVh(16,b,1,0,"i",20),e.k0s()()()}if(2&d){const t=l.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.en_name),e.R7$(2),e.JRh(t.en_job),e.R7$(2),e.Y8G("routerLink",e.eq3(8,S,t.id)),e.R7$(3),e.Y8G("routerLink",e.eq3(10,F,t.id)),e.R7$(4),e.Y8G("ngModel",i.returnStatus(t.active_status))("disabled",i.isToggleLoading(t.id)),e.R7$(),e.vxM(i.isToggleLoading(t.id)?16:-1)}}function B(d,l){1&d&&(e.j41(0,"tr")(1,"td",21)(2,"div",22),e.nrm(3,"i",23),e.j41(4,"span",24),e.EFF(5,"No data found"),e.k0s()()()())}let v=(()=>{class d{constructor(){this.route=(0,r.WQX)(h.nX),this.messageService=(0,r.WQX)(m.bg),this.baseUrl=T.p,this.featureService=(0,r.WQX)(y.G),this.checked=!1,this.loadingToggles=new Set,this.statusOptions=[{label:"Active",value:1},{label:"Inactive",value:0}],this.selectedStatusFilter=null}getMode(){return this.route.snapshot.queryParamMap.get("mode")}getSliderId(){return this.route.snapshot.queryParamMap.get("id")}ngOnInit(){this.featureService.getTestimonials().subscribe(t=>{this.allTestimonials=t.data,this.testimonials=t.data})}returnStatus(t){return 1==t}isToggleLoading(t){return this.loadingToggles.has(t)}onToggleChange(t){if(this.isToggleLoading(t.id))return;this.loadingToggles.add(t.id);const i=t.active_status,s=1===Number(t.active_status)?"0":"1";t.active_status=s,(1===Number(i)?this.featureService.disableTestimonials(t.id):this.featureService.activeTestimonials(t.id)).pipe((0,M.j)(()=>{this.loadingToggles.delete(t.id)})).subscribe({next:c=>{if(c.data&&c.data.length>0){const g=c.data.find(O=>O.id===t.id);g&&(t.active_status=g.active_status)}this.messageService.add({severity:"success",summary:"Success",detail:`Hero slider ${1===Number(s)?"activated":"deactivated"} successfully`})},error:c=>{t.active_status=i,console.error("Toggle failed:",c),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update hero slider status"})}})}onStatusFilter(t){this.testimonials=null==t?[...this.allTestimonials]:this.allTestimonials.filter(i=>Number(i.active_status)===Number(t))}onActive(t){const i=this.testimonials.find(s=>s.id===t);i&&this.onToggleChange(i)}static#e=this.\u0275fac=function(i){return new(i||d)};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["app-testimonials"]],decls:8,vars:5,consts:[[1,"flex","justify-content-between","items-center","mb-4","w-full"],["label","Create New Testimonial","icon","pi pi-plus","severity","primary",3,"routerLink"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","id"],["pSortableColumn","en_name"],["field","en_name"],["pSortableColumn","en_job"],["field","en_job"],["pSortableColumn","active_status",2,"max-width","50px"],[1,"flex","flex-column","gap-2"],["optionLabel","label","optionValue","value","appendTo","body","placeholder","Filter by Status",3,"ngModelChange","options","ngModel","showClear"],[3,"routerLink"],[1,"pi","pi-eye",2,"color","#673ab7"],[1,"pi","pi-pencil",2,"color","#673ab7"],[1,"flex","align-items-center","gap-2"],[3,"ngModelChange","ngModel","disabled"],[1,"pi","pi-spin","pi-spinner",2,"color","#673ab7","font-size","0.8rem"],["colspan","12",1,"text-center","p-4"],[1,"flex","flex-column","align-items-center","justify-content-center"],[1,"pi","pi-info-circle",2,"font-size","2rem","color","var(--text-color-secondary)"],[1,"mt-2",2,"color","var(--text-color-secondary)"]],template:function(i,s){1&i&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Testimonials Management"),e.k0s(),e.nrm(3,"p-button",1),e.k0s(),e.j41(4,"p-table",2),e.DNE(5,j,19,3,"ng-template",3)(6,D,17,12,"ng-template",4)(7,B,6,0,"ng-template",5),e.k0s()),2&i&&(e.R7$(3),e.Y8G("routerLink",e.lJ4(3,E)),e.R7$(),e.Y8G("value",s.testimonials)("tableStyle",e.lJ4(4,C)))},dependencies:[p.bG,p.XI,m.Ei,p.Tg,p.yc,f.tm,f.$n,u.Wk,u.iI,k.jF,n.YN,n.BC,n.vS,w.py,w.l6],encapsulation:2})}return d})()}}]);