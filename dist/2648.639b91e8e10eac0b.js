"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[2648],{2648:(B,_,n)=>{n.r(_),n.d(_,{AboutUs:()=>Y});var v=n(2200),s=n(8728),a=n(4341),E=n(9211),h=n(1256),x=n(9330);let y=(()=>{class l{constructor(){this.http=(0,s.WQX)(x.Qq)}getAboutUs(){return this.http.get(`${h.p}api/about-home`)}updateAboutUs(i,o){console.log(i);const t=new FormData;return t.append("en_main_title",i.en_main_title),t.append("en_main_text",i.en_main_text),t.append("ar_main_title",i.ar_main_title),t.append("ar_main_text",i.ar_main_text),t.append("en_alt_image",i.en_alt_image),t.append("ar_alt_image",i.ar_alt_image),o&&t.append("main_image",o),this.http.post(`${h.p}api/about-home/1`,t)}static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275prov=s.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var I=n(5779),F=n(1020),k=n(5506),U=n(4781),j=n(1914),A=n(886),S=n(9200),e=n(3664);const T=()=>({height:320,direction:"ltr"}),$=()=>({height:320,direction:"rtl"});function R(l,m){1&l&&(e.j41(0,"small",31),e.EFF(1," Title is required and must be at least 3 characters long. "),e.k0s())}function N(l,m){1&l&&(e.j41(0,"small",31),e.EFF(1," Alt text is required. "),e.k0s())}function G(l,m){1&l&&(e.j41(0,"small",31),e.EFF(1," Title is required and must be at least 3 characters long. "),e.k0s())}function C(l,m){1&l&&(e.j41(0,"small",31),e.EFF(1," Alt text is required. "),e.k0s())}function D(l,m){if(1&l&&(e.j41(0,"div",2)(1,"div",32)(2,"label",27),e.EFF(3,"Current Image"),e.k0s(),e.j41(4,"div",33),e.nrm(5,"img",34),e.k0s()()()),2&l){const i=e.XpG();e.R7$(5),e.Y8G("src",i.baseUrl+i.aboutUs.main_image,e.B4B)("alt",i.aboutUs.en_alt_image)}}function L(l,m){1&l&&(e.j41(0,"div",35),e.nrm(1,"i",36),e.j41(2,"p",37),e.EFF(3," Drag and drop an image here or click to select "),e.k0s()())}function V(l,m){1&l&&(e.j41(0,"small",31),e.EFF(1," Image is required for creating a new slider. "),e.k0s())}let Y=(()=>{class l{constructor(){this.fb=(0,s.WQX)(a.ok),this.messageService=(0,s.WQX)(I.bg),this.router=(0,s.WQX)(E.Ix),this.aboutUsService=(0,s.WQX)(y),this.isLoading=(0,s.vPA)(!1),this.baseUrl=h.p,this.selectedFile=null}ngOnInit(){this.initForm(),this.getAboutUs()}getAboutUs(){this.aboutUsService.getAboutUs().subscribe(i=>{this.aboutForm.patchValue(i.data),this.aboutUs=i.data})}initForm(){this.aboutForm=this.fb.group({en_main_title:["",[a.k0.required,a.k0.minLength(3)]],ar_main_title:["",[a.k0.required,a.k0.minLength(3)]],en_main_text:["",[a.k0.required,a.k0.minLength(3)]],ar_main_text:["",[a.k0.required,a.k0.minLength(3)]],en_alt_image:["",[a.k0.required]],ar_alt_image:["",[a.k0.required]]})}onImageSelect(i){console.log(i);const o=i.files||i.currentFiles;if(o&&o.length>0){const t=o[0];if(!t.type.startsWith("image/"))return void this.messageService.add({severity:"error",summary:"Invalid File",detail:"Please select an image file"});if(t.size>5e6)return void this.messageService.add({severity:"error",summary:"File Too Large",detail:"Please select an image smaller than 5MB"});this.selectedFile=t,this.messageService.add({severity:"success",summary:"File Selected",detail:`Image "${t.name}" selected successfully`})}}onSubmit(){if(this.aboutForm.invalid)return;console.log(this.aboutForm.get("en_main_text").getRawValue()),this.isLoading.set(!0);const i=this.aboutForm.getRawValue();console.log("Form Value:",i),this.aboutUsService.updateAboutUs(i,this.selectedFile||void 0).subscribe(o=>{this.isLoading.set(!1),o.success?(this.messageService.add({severity:"success",summary:"Success",detail:"About Us updated successfully"}),this.getAboutUs()):(this.isLoading.set(!1),this.messageService.add({severity:"error",summary:"Error",detail:"About Us updated failed"}))})}static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-about-us"]],decls:52,vars:24,consts:[["empty",""],[1,"grid"],[1,"col-12"],["styleClass","shadow-2",3,"header"],[1,"p-fluid"],[3,"ngSubmit","formGroup"],[1,"grid","mt-4"],[1,"col-12","md:col-6"],[1,"text-2xl","font-bold","mb-4"],[1,"field","mb-3"],["for","en_title",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","en_title","formControlName","en_main_title","placeholder","Enter en slider title",2,"width","100%"],["class","p-error block",4,"ngIf"],["for","en_description",1,"block","text-900","font-medium","mb-2"],[1,"card"],["placeholder","Enter en slider description","formControlName","en_main_text",3,"options"],["for","en_alt_image",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","en_alt_image","formControlName","en_alt_image","placeholder","Enter en image alt text",1,"w-full",2,"width","100%"],[1,"col-12","md:col-6","right-side"],["for","ar_title",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","ar_title","formControlName","ar_main_title","placeholder","Enter ar slider title",2,"width","100%"],["for","ar_description",1,"block","text-900","font-medium","mb-2"],["placeholder","Enter ar slider description","formControlName","ar_main_text",3,"options"],["for","ar_alt_image",1,"block","text-900","font-medium","mb-2"],["pInputText","","id","ar_alt_image","formControlName","ar_alt_image","placeholder","Enter ar image alt text",1,"w-full",2,"width","100%"],["class","col-12",4,"ngIf"],[1,"field","col-12"],[1,"block","text-900","font-medium","mb-2"],["name","main_image","accept","image/*","maxFileSize","5000000","mode","advanced","chooseLabel","Choose Image","uploadLabel"," ","cancelLabel","Cancel",3,"onSelect","multiple","auto"],[1,"flex","justify-content-end","gap-2","pt-3"],["label","Update About Us","icon","pi pi-check","severity","primary","type","submit",3,"disabled","loading"],[1,"p-error","block"],[1,"field"],[1,"border-1","border-300","border-round","p-3","text-center"],[1,"w-full","max-w-20rem","h-auto","border-round","shadow-2",2,"max-height","300px","object-fit","cover",3,"src","alt"],[1,"text-center","p-4"],[1,"pi","pi-cloud-upload","text-4xl","text-300"],[1,"mt-2","mb-0"]],template:function(o,t){if(1&o){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"p-card",3)(3,"div",4)(4,"form",5),e.bIt("ngSubmit",function(){return s.eBV(r),s.Njj(t.onSubmit())}),e.j41(5,"div",6)(6,"div",7)(7,"h2",8),e.EFF(8,"English content"),e.k0s(),e.j41(9,"div",9)(10,"label",10),e.EFF(11," Title "),e.k0s(),e.nrm(12,"input",11),e.DNE(13,R,2,0,"small",12),e.k0s(),e.j41(14,"label",13),e.EFF(15," description "),e.k0s(),e.j41(16,"div",14),e.nrm(17,"ngx-jodit",15),e.k0s(),e.j41(18,"div",9)(19,"label",16),e.EFF(20," Alt Text "),e.k0s(),e.nrm(21,"input",17),e.DNE(22,N,2,0,"small",12),e.k0s()(),e.j41(23,"div",18)(24,"h2",8),e.EFF(25,"Arabic content"),e.k0s(),e.j41(26,"div",9)(27,"label",19),e.EFF(28," Title "),e.k0s(),e.nrm(29,"input",20),e.DNE(30,G,2,0,"small",12),e.k0s(),e.j41(31,"label",21),e.EFF(32," description "),e.k0s(),e.j41(33,"div",14),e.nrm(34,"ngx-jodit",22),e.k0s(),e.j41(35,"div",9)(36,"label",23),e.EFF(37," Alt Text "),e.k0s(),e.nrm(38,"input",24),e.DNE(39,C,2,0,"small",12),e.k0s()(),e.DNE(40,D,6,2,"div",25),e.j41(41,"div",26)(42,"label",27),e.EFF(43," Upload New Image "),e.k0s(),e.j41(44,"p-fileupload",28),e.bIt("onSelect",function(d){return s.eBV(r),s.Njj(t.onImageSelect(d))}),e.DNE(45,L,4,0,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(47,V,2,0,"small",12),e.k0s(),e.j41(48,"div",2)(49,"div",29),e.nrm(50,"p-button",30),e.k0s()()()()()()()(),e.nrm(51,"p-toast")}if(2&o){let r,u,d,g,c,p,b,f;e.R7$(2),e.Y8G("header","About Us"),e.R7$(2),e.Y8G("formGroup",t.aboutForm),e.R7$(8),e.AVh("ng-invalid",(null==(r=t.aboutForm.get("en_title"))?null:r.invalid)&&(null==(r=t.aboutForm.get("en_title"))?null:r.touched)),e.R7$(),e.Y8G("ngIf",(null==(u=t.aboutForm.get("en_title"))?null:u.invalid)&&(null==(u=t.aboutForm.get("en_title"))?null:u.touched)),e.R7$(4),e.Y8G("options",e.lJ4(22,T)),e.R7$(4),e.AVh("ng-invalid",(null==(d=t.aboutForm.get("en_alt_image"))?null:d.invalid)&&(null==(d=t.aboutForm.get("en_alt_image"))?null:d.touched)),e.R7$(),e.Y8G("ngIf",(null==(g=t.aboutForm.get("en_alt_image"))?null:g.invalid)&&(null==(g=t.aboutForm.get("en_alt_image"))?null:g.touched)),e.R7$(7),e.AVh("ng-invalid",(null==(c=t.aboutForm.get("ar_title"))?null:c.invalid)&&(null==(c=t.aboutForm.get("ar_title"))?null:c.touched)),e.R7$(),e.Y8G("ngIf",(null==(p=t.aboutForm.get("ar_title"))?null:p.invalid)&&(null==(p=t.aboutForm.get("ar_title"))?null:p.touched)),e.R7$(4),e.Y8G("options",e.lJ4(23,$)),e.R7$(4),e.AVh("ng-invalid",(null==(b=t.aboutForm.get("ar_alt_image"))?null:b.invalid)&&(null==(b=t.aboutForm.get("ar_alt_image"))?null:b.touched)),e.R7$(),e.Y8G("ngIf",(null==(f=t.aboutForm.get("ar_alt_image"))?null:f.invalid)&&(null==(f=t.aboutForm.get("ar_alt_image"))?null:f.touched)),e.R7$(),e.Y8G("ngIf",null==t.aboutUs?null:t.aboutUs.main_image),e.R7$(4),e.Y8G("multiple",!1)("auto",!1),e.R7$(3),e.Y8G("ngIf",!t.selectedFile),e.R7$(3),e.Y8G("disabled",t.aboutForm.invalid||t.isLoading())("loading",t.isLoading())}},dependencies:[U.eB,U.ef,v.MD,v.bT,F.tm,F.$n,j.um,j.Sm,k.Dw,k.Zp,A.MB,A.y8,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,S.V],styles:[".p-fileupload-upload-button{display:none!important}  .p-fileupload-file-badge{display:none!important}  .ql-editor .ql-direction-rtl{text-align:right!important}.rtl-editor[_ngcontent-%COMP%]     .ql-editor{text-align:right!important}"]})}return l})()}}]);